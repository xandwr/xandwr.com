---
import "../styles/global.css";
import Header from "../components/Header.astro";

const {
	title = "xandwrland",
	description = "developer, designer, and chaos conduit",
	bodyClass = "",
	headExtra = null,
} = Astro.props;

// Generate cube positions and delays for better distribution
const cubes = Array.from({ length: 60 }, (_, i) => {
	const leftPos = Math.random() * 100;
	const delay = Math.random() * 35; // Stagger over 35 seconds
	const duration = 20 + Math.random() * 20; // Variable speed between 20-40s

	return {
		left: leftPos,
		delay,
		duration,
	};
});
---

<!doctype html>
<html lang="en" class="text-base antialiased scroll-smooth text-zinc-100">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="generator" content={Astro.generator} />

		<title>{title}</title>
		<meta
			name="description"
			content="Portfolio site for xandwr, a game developer, systems tinkerer and overthinker"
		/>

		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	</head>

	<body class={`bg-black text-white font-sans ${bodyClass}`}>
		<div class="bg-cube-container">
			{
				cubes.map((cube, i) => (
					<div
						class="bg-cube"
						style={`
							left: ${cube.left}vw; 
							animation-delay: ${cube.delay}s;
							animation-duration: ${cube.duration}s;
						`}
					/>
				))
			}
		</div>
		<main
			class="max-w-6xl mx-auto px-6 py-8 relative z-10 h-screen overflow-hidden"
		>
			<div class="darken m-0 p-10 h-full relative overflow-y-auto">
				<Header siteTitle="xandwr" />
				<slot />
			</div>
		</main>
	</body>
</html>
